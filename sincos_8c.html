<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spinn_common: src/sincos.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">spinn_common<span id="projectnumber">&#160;5.1.1</span>
   </div>
   <div id="projectbrief">Support code for SpiNNaker applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sincos.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of log for the accum type.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="stdfix-full-iso_8h_source.html">stdfix-full-iso.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="assert_8h_source.html">assert.h</a>&quot;</code><br />
<code>#include &quot;arm_acle.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pair_8h_source.html">pair.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a53f343cc7530750fbc00aaf05367813c"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a53f343cc7530750fbc00aaf05367813c">sin_approx</a> (int32_t x)</td></tr>
<tr class="memdesc:a53f343cc7530750fbc00aaf05367813c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the sin function approximation.  <br /></td></tr>
<tr class="separator:a53f343cc7530750fbc00aaf05367813c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229cb5c10da5d80409b6fd42fa20148a"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a229cb5c10da5d80409b6fd42fa20148a">cos_approx</a> (int32_t x)</td></tr>
<tr class="memdesc:a229cb5c10da5d80409b6fd42fa20148a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the cos function approximation.  <br /></td></tr>
<tr class="separator:a229cb5c10da5d80409b6fd42fa20148a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a086aa62daa5eb086499be4bc5f404ae1"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a086aa62daa5eb086499be4bc5f404ae1">sin_pi4</a> (int32_t x, int32_t cos_x, int break_point)</td></tr>
<tr class="memdesc:a086aa62daa5eb086499be4bc5f404ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the sin function for the interval [0, &pi;/4)  <br /></td></tr>
<tr class="separator:a086aa62daa5eb086499be4bc5f404ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03338d7abdfac12ffe0ab66833102966"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a03338d7abdfac12ffe0ab66833102966">cos_pi4</a> (int32_t x, int32_t cos_x, int break_point)</td></tr>
<tr class="memdesc:a03338d7abdfac12ffe0ab66833102966"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the cos function for the interval [0, &pi;/4)  <br /></td></tr>
<tr class="separator:a03338d7abdfac12ffe0ab66833102966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65575ec57cf30a46996f0094bd6775d3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a65575ec57cf30a46996f0094bd6775d3">mul_sqrt_half</a> (int32_t x)</td></tr>
<tr class="memdesc:a65575ec57cf30a46996f0094bd6775d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function multiplies it's signed argument by sqrt(0.5).  <br /></td></tr>
<tr class="separator:a65575ec57cf30a46996f0094bd6775d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9c1cb80cd0d694d2efbc2e3e1b7d86"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a8d9c1cb80cd0d694d2efbc2e3e1b7d86">sin_pi4_x_sqrt_half</a> (int32_t s)</td></tr>
<tr class="memdesc:a8d9c1cb80cd0d694d2efbc2e3e1b7d86"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the sin function for the interval [0, &pi;/4) divided by sqrt(0.5).  <br /></td></tr>
<tr class="separator:a8d9c1cb80cd0d694d2efbc2e3e1b7d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a83b4e2e2afe97a6dc9da5a3e86677e"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a2a83b4e2e2afe97a6dc9da5a3e86677e">cos_pi4_x_sqrt_half</a> (int32_t c)</td></tr>
<tr class="memdesc:a2a83b4e2e2afe97a6dc9da5a3e86677e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the cos function for the interval [0, &pi;/4) divided by sqrt(0.5).  <br /></td></tr>
<tr class="separator:a2a83b4e2e2afe97a6dc9da5a3e86677e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bff5456c96d07411785fcbec11cc96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a01bff5456c96d07411785fcbec11cc96">reduced</a> (<a class="el" href="pair_8h.html#ae37ab02fcad1c7a26b5aad1d6d681ee7">pair_t</a> p)</td></tr>
<tr class="memdesc:a01bff5456c96d07411785fcbec11cc96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the reduced range value out of the result of <a class="el" href="sincos_8c.html#ac8c897c335e06314310488ed1bfffacd" title="This function returns the range-reduced argument and the quadrant.">sincos_range_reduction()</a>  <br /></td></tr>
<tr class="separator:a01bff5456c96d07411785fcbec11cc96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9893e84630c4cf0846e5adfe0b478ed1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a9893e84630c4cf0846e5adfe0b478ed1">quadrant</a> (<a class="el" href="pair_8h.html#ae37ab02fcad1c7a26b5aad1d6d681ee7">pair_t</a> p)</td></tr>
<tr class="memdesc:a9893e84630c4cf0846e5adfe0b478ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the octant out of the result of <a class="el" href="sincos_8c.html#ac8c897c335e06314310488ed1bfffacd" title="This function returns the range-reduced argument and the quadrant.">sincos_range_reduction()</a>  <br /></td></tr>
<tr class="separator:a9893e84630c4cf0846e5adfe0b478ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c897c335e06314310488ed1bfffacd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pair_8h.html#ae37ab02fcad1c7a26b5aad1d6d681ee7">pair_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#ac8c897c335e06314310488ed1bfffacd">sincos_range_reduction</a> (int32_t x)</td></tr>
<tr class="memdesc:ac8c897c335e06314310488ed1bfffacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the range-reduced argument and the quadrant.  <br /></td></tr>
<tr class="separator:ac8c897c335e06314310488ed1bfffacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe9f7e20f3b796396fc31016a614a15"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#abbe9f7e20f3b796396fc31016a614a15">even</a> (int x)</td></tr>
<tr class="memdesc:abbe9f7e20f3b796396fc31016a614a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is an integer value even?  <br /></td></tr>
<tr class="separator:abbe9f7e20f3b796396fc31016a614a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0ad1c24e073420462811bf99937ef1"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#afa0ad1c24e073420462811bf99937ef1">sinkbits</a> (int32_t x)</td></tr>
<tr class="memdesc:afa0ad1c24e073420462811bf99937ef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <a class="el" href="sincos_8c.html#a1d05430e2462cd5300e895a4dbbc0b77" title="This function calculates the sin function for the s1615 type.">sink()</a> on the bit-representation of fixed point values.  <br /></td></tr>
<tr class="separator:afa0ad1c24e073420462811bf99937ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9633249b4598a0527b8e9ffd2df74845"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a9633249b4598a0527b8e9ffd2df74845">coskbits</a> (int32_t x)</td></tr>
<tr class="memdesc:a9633249b4598a0527b8e9ffd2df74845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <a class="el" href="sincos_8c.html#a7f0e28f57e5bc7852f50340f327efc94" title="This function calculates the cos function for the s1615 type.">cosk()</a> on the bit-representation of fixed point values.  <br /></td></tr>
<tr class="separator:a9633249b4598a0527b8e9ffd2df74845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d05430e2462cd5300e895a4dbbc0b77"><td class="memItemLeft" align="right" valign="top">accum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a1d05430e2462cd5300e895a4dbbc0b77">sink</a> (accum x)</td></tr>
<tr class="memdesc:a1d05430e2462cd5300e895a4dbbc0b77"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the sin function for the <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a> type.  <br /></td></tr>
<tr class="separator:a1d05430e2462cd5300e895a4dbbc0b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0e28f57e5bc7852f50340f327efc94"><td class="memItemLeft" align="right" valign="top">accum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#a7f0e28f57e5bc7852f50340f327efc94">cosk</a> (accum x)</td></tr>
<tr class="memdesc:a7f0e28f57e5bc7852f50340f327efc94"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the cos function for the <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a> type.  <br /></td></tr>
<tr class="separator:a7f0e28f57e5bc7852f50340f327efc94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af28cbb16ffc4b0baac164ea9e7f6f4f7"><td class="memItemLeft" align="right" valign="top">static const int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#af28cbb16ffc4b0baac164ea9e7f6f4f7">sin_table</a> [16]</td></tr>
<tr class="memdesc:af28cbb16ffc4b0baac164ea9e7f6f4f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">sin_table[k] = sin(k/16) * 2^31  <br /></td></tr>
<tr class="separator:af28cbb16ffc4b0baac164ea9e7f6f4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c072af1c60541e727c7aa542a4eb8d"><td class="memItemLeft" align="right" valign="top">static const int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sincos_8c.html#ad1c072af1c60541e727c7aa542a4eb8d">cos_table</a> [16]</td></tr>
<tr class="memdesc:ad1c072af1c60541e727c7aa542a4eb8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">cos_table[k] = (cos(k/16) - 1) * 2^31  <br /></td></tr>
<tr class="separator:ad1c072af1c60541e727c7aa542a4eb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of log for the accum type. </p>
<p>The details of the algorithm are from "Elementary Functions: Algorithms and Implementation", 2nd edn, Jean-Michel Muller, Birkhauser, 2006.</p>
<dl class="section author"><dt>Author</dt><dd>Dave Lester (<a href="#" onclick="location.href='mai'+'lto:'+'dav'+'id'+'.r.'+'le'+'ste'+'r@'+'man'+'ch'+'est'+'er'+'.ac'+'.u'+'k'; return false;">david<span class="obfuscator">.nosp@m.</span>.r.l<span class="obfuscator">.nosp@m.</span>ester<span class="obfuscator">.nosp@m.</span>@man<span class="obfuscator">.nosp@m.</span>chest<span class="obfuscator">.nosp@m.</span>er.a<span class="obfuscator">.nosp@m.</span>c.uk</a>)</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) Dave Lester, Jamie Knight and The University of Manchester, 2013. All rights reserved. SpiNNaker Project Advanced Processor Technologies Group School of Computer Science The University of Manchester Manchester M13 9PL, UK</dd></dl>
<dl class="section date"><dt>Date</dt><dd>30 October, 2014 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a53f343cc7530750fbc00aaf05367813c" name="a53f343cc7530750fbc00aaf05367813c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f343cc7530750fbc00aaf05367813c">&#9670;&#160;</a></span>sin_approx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t sin_approx </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function calculates the sin function approximation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>an s0.31 representing a number in the interval [-1/32, 1/32); i.e. INT32_MIN represents -1/32 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value representing sin(x) in s0.31 format. </dd></dl>

</div>
</div>
<a id="a229cb5c10da5d80409b6fd42fa20148a" name="a229cb5c10da5d80409b6fd42fa20148a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229cb5c10da5d80409b6fd42fa20148a">&#9670;&#160;</a></span>cos_approx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t cos_approx </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function calculates the cos function approximation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>an s0.31 representing a number in the interval [-1/32, 1/32); i.e. INT32_MIN represents -1/32 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value representing (1 - cos(x)) in s0.31 format. </dd></dl>

</div>
</div>
<a id="a086aa62daa5eb086499be4bc5f404ae1" name="a086aa62daa5eb086499be4bc5f404ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a086aa62daa5eb086499be4bc5f404ae1">&#9670;&#160;</a></span>sin_pi4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t sin_pi4 </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>cos_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>break_point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function calculates the sin function for the interval [0, &pi;/4) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>An s0.31 representing a value in the range [-1/32,1/32), with INT32_MIN representing -1/32. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cos_x</td><td>The value of cos_x (= (1 - cos(x)) * 2^31) represented as an s0.31 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">break_point</td><td>A value in the range 0..13 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sin(x + break_point / 16) as s0.31 </dd></dl>

</div>
</div>
<a id="a03338d7abdfac12ffe0ab66833102966" name="a03338d7abdfac12ffe0ab66833102966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03338d7abdfac12ffe0ab66833102966">&#9670;&#160;</a></span>cos_pi4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t cos_pi4 </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>cos_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>break_point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function calculates the cos function for the interval [0, &pi;/4) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>An s0.31 representing a value in the range [-1/32,1/32), with INT32_MIN representing -1/32. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cos_x</td><td>The value of cos_x (= (1 - cos(x)) * 2^31) represented as an s0.31 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">break_point</td><td>A value in the range 0..13 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 - cos(x + break_point / 16) as s0.31</dd></dl>
<p>Implementation notes</p>
<p>We are using the identity: cos(x+b) = cos(x)*cos(b) - sin(x)*sin(b)</p>
<p>However, we return 1-cos(x+b) = 1 - cos(x)*cos(b) + sin(x)*sin(b)</p>
<p>Let cx = 1-cos(x), and cb = 1-cos(b)</p>
<p>Then cx * cb = 1 + cos(x)*cos(b) - cos(x) - cos(b)</p>
<p>Thus 1 - cos(x)*cos(b) = -(cx*cb) + cx + cb </p>

</div>
</div>
<a id="a65575ec57cf30a46996f0094bd6775d3" name="a65575ec57cf30a46996f0094bd6775d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65575ec57cf30a46996f0094bd6775d3">&#9670;&#160;</a></span>mul_sqrt_half()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mul_sqrt_half </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function multiplies it's signed argument by sqrt(0.5). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>is a signed 32-bit quantity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>x * sqrt(0.5) in the same format as x.</dd></dl>
<p>Implementation notes</p>
<p>Consider experimenting with smlawt/b instructions. The calculation </p><pre class="fragment">r = (x * 1518500250) &gt;&gt; 31;
</pre><p> is equivalent to: </p><pre class="fragment">r = smulwt(x, 23170);
r = smlawb(x, 31130, r) &lt;&lt; 1; // n.b. two constants in same register
</pre> 
</div>
</div>
<a id="a8d9c1cb80cd0d694d2efbc2e3e1b7d86" name="a8d9c1cb80cd0d694d2efbc2e3e1b7d86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9c1cb80cd0d694d2efbc2e3e1b7d86">&#9670;&#160;</a></span>sin_pi4_x_sqrt_half()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t sin_pi4_x_sqrt_half </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function calculates the sin function for the interval [0, &pi;/4) divided by sqrt(0.5). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>An s0.31 representing the value of sin(x). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An s0.31 representing sin(x) * sqrt(0.5). </dd></dl>

</div>
</div>
<a id="a2a83b4e2e2afe97a6dc9da5a3e86677e" name="a2a83b4e2e2afe97a6dc9da5a3e86677e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a83b4e2e2afe97a6dc9da5a3e86677e">&#9670;&#160;</a></span>cos_pi4_x_sqrt_half()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t cos_pi4_x_sqrt_half </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function calculates the cos function for the interval [0, &pi;/4) divided by sqrt(0.5). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>An s0.31 representing the value of 1 - cos(x). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An s0.31 representing cos(x) * sqrt(0.5).</dd></dl>
<p>Implementation notes</p>
<p>Note that we have taken the opportunity to fold the subtraction back into the calculation. The reason is that we no longer have to represent 1.0000 as an s0.31. </p>

</div>
</div>
<a id="a01bff5456c96d07411785fcbec11cc96" name="a01bff5456c96d07411785fcbec11cc96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01bff5456c96d07411785fcbec11cc96">&#9670;&#160;</a></span>reduced()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reduced </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pair_8h.html#ae37ab02fcad1c7a26b5aad1d6d681ee7">pair_t</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the reduced range value out of the result of <a class="el" href="sincos_8c.html#ac8c897c335e06314310488ed1bfffacd" title="This function returns the range-reduced argument and the quadrant.">sincos_range_reduction()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The pair </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the reduced range value (range [0,&pi;/4] if fixed point) </dd></dl>

</div>
</div>
<a id="a9893e84630c4cf0846e5adfe0b478ed1" name="a9893e84630c4cf0846e5adfe0b478ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9893e84630c4cf0846e5adfe0b478ed1">&#9670;&#160;</a></span>quadrant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int quadrant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pair_8h.html#ae37ab02fcad1c7a26b5aad1d6d681ee7">pair_t</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the octant out of the result of <a class="el" href="sincos_8c.html#ac8c897c335e06314310488ed1bfffacd" title="This function returns the range-reduced argument and the quadrant.">sincos_range_reduction()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The pair </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the octant (range [0,7]) </dd></dl>

</div>
</div>
<a id="ac8c897c335e06314310488ed1bfffacd" name="ac8c897c335e06314310488ed1bfffacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c897c335e06314310488ed1bfffacd">&#9670;&#160;</a></span>sincos_range_reduction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pair_8h.html#ae37ab02fcad1c7a26b5aad1d6d681ee7">pair_t</a> sincos_range_reduction </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the range-reduced argument and the quadrant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>is an s16.15. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pair of values (accessible by use of <a class="el" href="pair_8h.html#ab5260059ae48815052c17c5cf96f8e2e" title="Return the first component of a pair.">fst()</a> and <a class="el" href="pair_8h.html#a5ce37677c47dbb70ba9cb73dbf11986c" title="Return the second component of a pair.">snd()</a>). The first component is the range reduced value of x represented by an s0.31 in the range [0,&pi;/4). The second is a quadrant, in the range 0..7 </dd></dl>

</div>
</div>
<a id="abbe9f7e20f3b796396fc31016a614a15" name="abbe9f7e20f3b796396fc31016a614a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe9f7e20f3b796396fc31016a614a15">&#9670;&#160;</a></span>even()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool even </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is an integer value even? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The value to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if <code>x</code> is even </dd></dl>

</div>
</div>
<a id="afa0ad1c24e073420462811bf99937ef1" name="afa0ad1c24e073420462811bf99937ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0ad1c24e073420462811bf99937ef1">&#9670;&#160;</a></span>sinkbits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t sinkbits </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <a class="el" href="sincos_8c.html#a1d05430e2462cd5300e895a4dbbc0b77" title="This function calculates the sin function for the s1615 type.">sink()</a> on the bit-representation of fixed point values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>the value to get the sine of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sine of the value </dd></dl>

</div>
</div>
<a id="a9633249b4598a0527b8e9ffd2df74845" name="a9633249b4598a0527b8e9ffd2df74845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9633249b4598a0527b8e9ffd2df74845">&#9670;&#160;</a></span>coskbits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t coskbits </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <a class="el" href="sincos_8c.html#a7f0e28f57e5bc7852f50340f327efc94" title="This function calculates the cos function for the s1615 type.">cosk()</a> on the bit-representation of fixed point values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>the value to get the cosine of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the cosine of the value </dd></dl>

</div>
</div>
<a id="a1d05430e2462cd5300e895a4dbbc0b77" name="a1d05430e2462cd5300e895a4dbbc0b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d05430e2462cd5300e895a4dbbc0b77">&#9670;&#160;</a></span>sink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">accum sink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6">s1615</a>&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the sin function for the <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a> type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>is positive value represented as an <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value representing sin(x) in <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a> format. </dd></dl>

</div>
</div>
<a id="a7f0e28f57e5bc7852f50340f327efc94" name="a7f0e28f57e5bc7852f50340f327efc94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0e28f57e5bc7852f50340f327efc94">&#9670;&#160;</a></span>cosk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">accum cosk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6">s1615</a>&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the cos function for the <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a> type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>is positive value represented as an <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value representing cos(x) in <a class="el" href="stdfix-full-iso_8h.html#abbf2a7d70e066ea6d5c2b7d88cfcd1e6" title="An alternative name for the signed accum type.">s1615</a> format. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af28cbb16ffc4b0baac164ea9e7f6f4f7" name="af28cbb16ffc4b0baac164ea9e7f6f4f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28cbb16ffc4b0baac164ea9e7f6f4f7">&#9670;&#160;</a></span>sin_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t sin_table[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">              0,  134130364,  267736951,  400298032,</div>
<div class="line">      531295957,  660219183,  786564267,  909837834,</div>
<div class="line">     1029558505, 1145258771, 1256486826, 1362808327,</div>
<div class="line">     1463808091, 1559091715, 1648287120, 1731045999</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>sin_table[k] = sin(k/16) * 2^31 </p>

</div>
</div>
<a id="ad1c072af1c60541e727c7aa542a4eb8d" name="ad1c072af1c60541e727c7aa542a4eb8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c072af1c60541e727c7aa542a4eb8d">&#9670;&#160;</a></span>cos_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t cos_table[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">               0,   -4192939,  -16755382,  -37638274,</div>
<div class="line">       -66760066, -104007040, -149233746, -202263575,</div>
<div class="line">      -262889447, -330874618, -405953610, -487833239,</div>
<div class="line">      -576193767, -670690148, -770953377, -876591926</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>cos_table[k] = (cos(k/16) - 1) * 2^31 </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 13 2023 16:43:48 for spinn_common by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
